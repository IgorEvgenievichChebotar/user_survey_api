# Задача: спроектировать и разработать АРI для опроса пользователей.

**Функционал для администратора системы:**

- авторизация в системе (регистрация не нужна)
- добавление/изменение/удаление опросов. Атрибуты
  опроса: название, дата старта, дата окончания, описание.
  После создания поле "дата старта" у опроса менять нельзя
- добавление/изменение/удаление вопросов в опросе.
  Атрибуты вопросов: текст вопроса, тип вопроса (ответ
  текстом, ответ с выбором одного варианта, ответ с
  выбором нескольких вариантов)

**Функционал для пользователей системы:**

- получение списка активных опросов
- прохождение опроса: опросы можно проходить
  анонимно, в качестве идентификатора пользователя в АРI
  передаётся числовой id, по которому сохраняются ответы
  пользователя на вопросы; один пользователь может
  участвовать в любом количестве опросов
- получение пройденных пользователем опросов с
  детализацией по ответам (что выбрано) по
  уникальному пользователя

**Результат выполнения задачи:**

- исходный код приложения на github (только на github,
  публичный репозиторий)
- инструкция по разворачиванию приложения (в docker
  или локально)
- документация по АРI

## Использованные технологии:
- Spring Boot
- Spring MVC
- Spring Security
- Spring Data Jpa
- Spring Docs
- Spring Validator
- Hibernate ORM
- PostgreSQL
- Test Containers
- Liquibase
- Lombok
- Docker
- Maven

## Конечные точки:

| запрос |      конечная точка      |                         описание                         | авторизация |
|:------:|:------------------------:|:--------------------------------------------------------:|:-----------:|
|  POST  |        /auth/reg         |                       регистрация                        |     all     |
|  POST  |       /auth/login        |              авторизация (администратором)               |     all     |
|  POST  |         /survey          |                    добавление опроса                     |    ADMIN    |
| PATCH  |       /survey/{id}       |              изменение опроса с заданным id              |    ADMIN    |
| DELETE |       /survey/{id}       |              удаление опроса с заданным id               |    ADMIN    |
|  POST  |       /survey/{id}       |        добавление вопросов к опросу с заданным id        |    ADMIN    |
|  POST  | /question?survey_id={id} |        добавление вопроса к опросу с заданным id         |    ADMIN    |
| PATCH  |      /question/{id}      |             изменение вопроса с заданным id              |    ADMIN    |
| DELETE |      /question/{id}      |              удаление вопроса с заданным id              |    ADMIN    |
|  GET   |   /survey?user_id={id}   | получение пройденных опросов пользователем с заданным id |     all     |
|  GET   |         /survey          |                  получение всех опросов                  |     all     |
|  GET   |   /survey?active=true    |             получение всех активных вопросов             |     all     |
|  GET   |       /survey/{id}       |             получение опроса с с заданным id             |     all     |
|  POST  |    /survey/{id}/pass     |             прохождение опроса с заданным id             |     all     |